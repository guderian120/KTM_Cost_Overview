<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KTM Cost Analysis</title>
    <style>
        :root {
            --primary: #232f3e;
            --secondary: #ff9900;
            --light: #f2f3f4;
            --dark: #161e2d;
            --success: #2d7d46;
            --info: #1d7f91;
        }
        body {
            font-family: 'Amazon Ember', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        header {
            background-color: var(--primary);
            color: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            text-align: center;
        }
        h1 {
            margin: 0;
            font-size: 2.5rem;
        }
        h2 {
            color: var(--primary);
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 0.5rem;
            margin-top: 2rem;
        }
        h3 {
            color: var(--dark);
        }
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .cost-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        .cost-table th, .cost-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .cost-table th {
            background-color: var(--primary);
            color: white;
        }
        .cost-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .cost-table tr:hover {
            background-color: #e6f7ff;
        }
        .highlight {
            background-color: #fff4e6;
            padding: 15px;
            border-left: 4px solid var(--secondary);
            margin: 1rem 0;
        }
        .pricing-category {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .pricing-tier {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 1.5rem;
        }
        .tier-header {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            margin: -1.5rem -1.5rem 1.5rem -1.5rem;
            border-radius: 8px 8px 0 0;
        }
        .price {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--secondary);
            margin: 1rem 0;
        }
        .feature-list {
            list-style-type: none;
            padding: 0;
        }
        .feature-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }
        .feature-list li:before {
            content: "âœ“";
            color: var(--success);
            margin-right: 0.5rem;
        }
        .comparison-chart {
            width: 100%;
            overflow-x: auto;
        }
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1rem;
            color: #666;
        }
        .aws-logo {
            height: 40px;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <header>
        <h1>Kryotech Software Solution</h1>
        <p>Comprehensive cost breakdown for KTM</p>
    </header>

    <div class="card">
        <h2>Architecture Overview</h2>
        <p>This cost analysis covers a complete serverless application stack on AWS with:</p>
        <ul>
            <li>AWS Lambda for compute</li>
            <li>API Gateway for REST APIs</li>
            <li>S3 for static website hosting</li>
            <li>CloudFront for content delivery</li>
            <li>Cognito for user authentication</li>
            <li>WAF for web application security</li>
        </ul>
    </div>

    <h2>Detailed Service Cost Breakdown</h2>

    <div class="card">
        <h3>1. AWS Lambda Costs</h3>
        <p><strong>Pricing Factors:</strong></p>
        <ul>
            <li><strong>Execution time:</strong> $0.0000166667 per GB-second</li>
            <li><strong>Requests:</strong> $0.20 per 1M requests</li>
            <li><strong>Memory allocation:</strong> You pay for configured memory, not actual usage</li>
        </ul>
        
        <div class="highlight">
            <h4>Cost Optimization Tips:</h4>
            <ul>
                <li>Right-size memory (use AWS Lambda Power Tuning)</li>
                <li>Set appropriate timeouts</li>
                <li>Use provisioned concurrency sparingly ($0.015 per hour per 100ms)</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <h3>2. API Gateway Costs</h3>
        <p><strong>REST API Pricing:</strong></p>
        <ul>
            <li>$1.00 per million API calls</li>
            <li>$0.09 per GB data transfer out</li>
        </ul>
        <p><strong>HTTP API Pricing (cheaper alternative):</strong></p>
        <ul>
            <li>$0.80 per million requests</li>
            <li>$0.06 per GB data transfer out</li>
        </ul>
        
        <div class="highlight">
            <h4>Cost Optimization Tips:</h4>
            <ul>
                <li>Use HTTP API when possible (saves ~40%)</li>
                <li>Enable caching ($0.02 per hour for 0.5GB cache)</li>
                <li>Compress responses to reduce data transfer</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <h3>3. S3 Static Website Hosting Costs</h3>
        <p><strong>Pricing Factors:</strong></p>
        <ul>
            <li>Storage: $0.023 per GB/month (standard storage)</li>
            <li>Requests: $0.0004 per 1,000 GET requests</li>
            <li>Data transfer: $0.09 per GB out to internet</li>
        </ul>
        
        <div class="highlight">
            <h4>Cost Optimization Tips:</h4>
            <ul>
                <li>Use CloudFront ($0.085/GB with free tier)</li>
                <li>Enable S3 Transfer Acceleration only if needed</li>
                <li>Set lifecycle policies for old files</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <h3>4. Amazon Cognito Costs</h3>
        <p><strong>User Pools Pricing:</strong></p>
        <ul>
            <li>MAUs (Monthly Active Users): $0.005 per MAU</li>
            <li>First 50,000 MAUs free each month</li>
            <li>SMS MFA: $0.01 per SMS (varies by country)</li>
        </ul>
        
        <div class="highlight">
            <h4>Cost Optimization Tips:</h4>
            <ul>
                <li>Use email instead of SMS verification when possible</li>
                <li>Implement server-side token caching</li>
                <li>Monitor MAU counts (inactive users still count if they log in)</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <h3>5. AWS WAF Costs</h3>
        <p><strong>Pricing Factors:</strong></p>
        <ul>
            <li>$0.60 per web ACL per month</li>
            <li>$0.60 per rule per month</li>
            <li>$1.00 per million requests processed</li>
            <li>Additional charges for Bot Control and Fraud Control features</li>
        </ul>
        
        <div class="highlight">
            <h4>Cost Optimization Tips:</h4>
            <ul>
                <li>Consolidate rules to minimize per-rule charges</li>
                <li>Use CloudFront with WAF for reduced data transfer costs</li>
                <li>Regularly review and remove unused rules</li>
            </ul>
        </div>
    </div>

    <h2>Organization Size Cost Estimates</h2>

    <div class="pricing-category">
        <div class="pricing-tier">
            <div class="tier-header">
                <h3>Small Business</h3>
                <p>10-500 employees</p>
            </div>
            <div class="price">$50 - $500/month</div>
            <ul class="feature-list">
                <li>50,000 - 500,000 MAUs</li>
                <li>5-50GB storage</li>
                <li>1-10M Lambda invocations</li>
                <li>Basic WAF protection</li>
                <li>Email authentication</li>
            </ul>
            <h4>Example Monthly Cost:</h4>
            <table class="cost-table">
                <tr>
                    <th>Service</th>
                    <th>Cost</th>
                </tr>
                <tr>
                    <td>Lambda</td>
                    <td>$10 - $100</td>
                </tr>
                <tr>
                    <td>API Gateway</td>
                    <td>$10 - $100</td>
                </tr>
                <tr>
                    <td>S3 + CloudFront</td>
                    <td>$20 - $200</td>
                </tr>
                <tr>
                    <td>Cognito</td>
                    <td>$0 - $250 (first 50k MAUs free)</td>
                </tr>
                <tr>
                    <td>WAF</td>
                    <td>$10 - $50</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong>$50 - $500</strong></td>
                </tr>
            </table>
        </div>

        <div class="pricing-tier">
            <div class="tier-header">
                <h3>Medium Enterprise</h3>
                <p>500-25,000 employees</p>
            </div>
            <div class="price">$500 - $5,000/month</div>
            <ul class="feature-list">
                <li>500,000 - 5M MAUs</li>
                <li>50-500GB storage</li>
                <li>10-100M Lambda invocations</li>
                <li>Advanced WAF protection</li>
                <li>SMS/Email authentication</li>
            </ul>
            <h4>Example Monthly Cost:</h4>
            <table class="cost-table">
                <tr>
                    <th>Service</th>
                    <th>Cost</th>
                </tr>
                <tr>
                    <td>Lambda</td>
                    <td>$100 - $1,000</td>
                </tr>
                <tr>
                    <td>API Gateway</td>
                    <td>$100 - $1,000</td>
                </tr>
                <tr>
                    <td>S3 + CloudFront</td>
                    <td>$200 - $2,000</td>
                </tr>
                <tr>
                    <td>Cognito</td>
                    <td>$250 - $2,500</td>
                </tr>
                <tr>
                    <td>WAF</td>
                    <td>$50 - $500</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong>$500 - $5,000</strong></td>
                </tr>
            </table>
        </div>

        <div class="pricing-tier">
            <div class="tier-header">
                <h3>Large Enterprise</h3>
                <p>25,000+ employees</p>
            </div>
            <div class="price">$5,000+/month</div>
            <ul class="feature-list">
                <li>5M+ MAUs</li>
                <li>500GB+ storage</li>
                <li>100M+ Lambda invocations</li>
                <li>Enterprise WAF with Bot Control</li>
                <li>Multi-factor authentication</li>
            </ul>
            <h4>Example Monthly Cost:</h4>
            <table class="cost-table">
                <tr>
                    <th>Service</th>
                    <th>Cost</th>
                </tr>
                <tr>
                    <td>Lambda</td>
                    <td>$1,000+</td>
                </tr>
                <tr>
                    <td>API Gateway</td>
                    <td>$1,000+</td>
                </tr>
                <tr>
                    <td>S3 + CloudFront</td>
                    <td>$2,000+</td>
                </tr>
                <tr>
                    <td>Cognito</td>
                    <td>$2,500+</td>
                </tr>
                <tr>
                    <td>WAF</td>
                    <td>$500+</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong>$5,000+</strong></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="card">
        <h2>Cost Comparison Chart</h2>
        <div class="comparison-chart">
            <table class="cost-table">
                <tr>
                    <th>Service</th>
                    <th>Small Business</th>
                    <th>Medium Enterprise</th>
                    <th>Large Enterprise</th>
                </tr>
                <tr>
                    <td>Lambda</td>
                    <td>$10 - $100</td>
                    <td>$100 - $1,000</td>
                    <td>$1,000+</td>
                </tr>
                <tr>
                    <td>API Gateway</td>
                    <td>$10 - $100</td>
                    <td>$100 - $1,000</td>
                    <td>$1,000+</td>
                </tr>
                <tr>
                    <td>S3 + CloudFront</td>
                    <td>$20 - $200</td>
                    <td>$200 - $2,000</td>
                    <td>$2,000+</td>
                </tr>
                <tr>
                    <td>Cognito</td>
                    <td>$0 - $250</td>
                    <td>$250 - $2,500</td>
                    <td>$2,500+</td>
                </tr>
                <tr>
                    <td>WAF</td>
                    <td>$10 - $50</td>
                    <td>$50 - $500</td>
                    <td>$500+</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong>$50 - $500</strong></td>
                    <td><strong>$500 - $5,000</strong></td>
                    <td><strong>$5,000+</strong></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="card">
        <h2>Free Tier Availability</h2>
        <table class="cost-table">
            <tr>
                <th>Service</th>
                <th>Free Tier Limit</th>
            </tr>
            <tr>
                <td>Lambda</td>
                <td>1M free requests/month</td>
            </tr>
            <tr>
                <td>API Gateway</td>
                <td>1M REST API calls/month</td>
            </tr>
            <tr>
                <td>S3</td>
                <td>5GB storage, 20,000 GET requests</td>
            </tr>
            <tr>
                <td>Cognito</td>
                <td>50,000 MAUs free</td>
            </tr>
            <tr>
                <td>WAF</td>
                <td>1 web ACL, 10 rules (for first 12 months)</td>
            </tr>
        </table>
    </div>

    <footer>
        <p>KTM Cost Analysis | Generated on <span id="date"></span></p>
        <p>Note: All prices are estimates based on AWS EU West (Ireland) region pricing as of 2025.</p>
    </footer>

    <script>
        document.getElementById('date').textContent = new Date().toLocaleDateString();
    </script>
</body>
</html>
